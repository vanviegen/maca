#!/bin/sh

VENV="$HOME/.cache/maca-code-map-venv-1"

if [ ! -d "$VENV" ] ; then
  python3 -m venv "$VENV"
  "$VENV/bin/pip" install tree-sitter-python tree-sitter
fi

# Get the directory where this script is located
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"

"$VENV/bin/python" "$SCRIPT_DIR/code_map.py" "$@"
